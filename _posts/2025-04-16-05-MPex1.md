---
layout: post
title: "[ë§ˆí”„] Hello World & ë©”ëª¨ë¦¬ í• ë‹¹ ì–´ì…ˆë¸”ë¦¬ ì˜ˆì œ ë¶„ì„"
category: education
---

# ğŸ“˜ Hello World & ë³€ìˆ˜ ë©”ëª¨ë¦¬ êµ¬ì¡° ì˜ˆì œ ë¶„ì„
---

## âœ… [ex0504] Hello World 1 (C)

```c
static char msgstr[] = "Hello World!\n";
int appmain(int argc, char * argv[]) {
    printf(msgstr);
    return 0;
}
```

### ğŸ“Œ í¬ì¸íŠ¸
- `msgstr`ëŠ” `.data` ì„¹ì…˜ì— ë°°ì¹˜ë¨
- `appmain()`ì€ OS ì—†ì´ ë…ë¦½ì ì¸ ì‹¤í–‰ êµ¬ì¡°ì˜ ì§„ì…ì 
- `printf()` í˜¸ì¶œ ì‹œ **ë¬¸ìì—´ í¬ì¸í„° ì „ë‹¬**ì´ í•µì‹¬

---

## âœ… [ex0505] Hello World 2 (Assembly with Stack Frame)

```asm
push {r7, lr}
sub sp, #8
add r7, sp, #0
str r0, [r7, #4] ; argc ì €ì¥
str r1, [r7, #0] ; argv ì €ì¥
ldr r0, =msgstr
bl printf
...
pop {r7, pc}
```

### ğŸ“Œ í¬ì¸íŠ¸
- **í‘œì¤€ í•¨ìˆ˜ í˜¸ì¶œ êµ¬ì¡° (AAPCS) ì‚¬ìš©**  
- `r0`, `r1` = ì²« ë²ˆì§¸, ë‘ ë²ˆì§¸ ì¸ì  
- ìŠ¤íƒ í”„ë ˆì„ì„ ëª…í™•íˆ êµ¬ì„± (`r7` ì‚¬ìš©)
- `bl`ì€ **Branch with Link** â†’ ë³µê·€ ì£¼ì†Œë¥¼ `lr`ì— ì €ì¥

---

## âœ… [ex0506] Hello World 3 (Assembly ê°„ì†Œí™”)

```asm
push {lr}
ldr r0, =msgstr
bl printf
movs r0, #0
pop {pc}
```

### ğŸ“Œ í¬ì¸íŠ¸
- **argc/argv ìƒëµ â†’ ë” ê°„ê²°í•œ êµ¬ì¡°**
- `sp`, `r7` ë“± ìŠ¤íƒ í”„ë ˆì„ ìƒëµ â†’ í•¨ìˆ˜ í˜¸ì¶œë§Œ ì²˜ë¦¬
- `lr`ë§Œ ì €ì¥í•˜ê³  ë°”ë¡œ `pc`ë¡œ ë³µê·€ (ê°„ë‹¨í•œ í•¨ìˆ˜ì— ì í•©)

---

## âœ… [ex0507] Allocating Space 1 (C)

```c
static int int_data = 0;
static float float_data = 0.5;
static char format_int[] = "%d\n";
...
printf(format_int, int_data);
printf(format_float, float_data);
```

### ğŸ“Œ í¬ì¸íŠ¸
- ë‹¤ì–‘í•œ **ì „ì—­ ë³€ìˆ˜ ìë£Œí˜•** ì„ ì–¸ â†’ `.data` or `.bss`ë¡œ ë°°ì¹˜
- `format_XXX` ë¬¸ìì—´ì€ í¬ë§· ì§€ì •ì â†’ `printf()`ì— ì „ë‹¬
- `char_array[]`, `int_array[]` â†’ ë°°ì—´ ì´ˆê¸°í™” â†’ ì •ë ¬ ê¸°ì¤€ í™•ì¸ í¬ì¸íŠ¸

---

## âœ… [ex0508] Allocating Space 2 (Assembly)

```asm
int_data:   .word 0
float_data: .float 0.5
format_int: .asciz "%d\n"
...
ldr r3, =int_data
ldr r1, [r3]
ldr r0, =format_int
bl printf
```

### ğŸ“Œ í¬ì¸íŠ¸
- `.word`, `.float`, `.asciz` ì‚¬ìš© â†’ **ìë£Œí˜•ì— ë”°ë¥¸ í¬ê¸°ì™€ ì •ë ¬ ì£¼ì˜**
- `ldr rX, =label` â†’ ì£¼ì†Œ ì·¨ë“, `[rX]` â†’ ê°’ ì ‘ê·¼
- **float ì¶œë ¥ ì‹œ**: `__aeabi_f2d` í˜¸ì¶œë¡œ double ë³€í™˜ í•„ìš”
- `char_array[1]`ì²˜ëŸ¼ íŠ¹ì • ì˜¤í”„ì…‹ ì ‘ê·¼ ì‹œ `[r3, #1]` í˜•íƒœ ì‚¬ìš©
- ëª¨ë“  ì¸ìëŠ” `r0`, `r1`, `r2`, â€¦ ë ˆì§€ìŠ¤í„°ë¡œ ì „ë‹¬ë¨ (AAPCS ê¸°ì¤€)

---

## âœ… í¬ì¸íŠ¸ ìš”ì•½

| ê°œë… | ì²´í¬ ì‚¬í•­ |
|------|-----------|
| AAPCS | í•¨ìˆ˜ ì¸ì ì „ë‹¬ ìˆœì„œ (`r0`~`r3`), ë°˜í™˜ê°’ì€ `r0` |
| ìŠ¤íƒ ì‚¬ìš© ì—¬ë¶€ | `push/pop`, `sub sp`, `add r7, sp` ë“± |
| í¬ë§· ë¬¸ìì—´ | `.asciz "%d\n"` í˜•íƒœ, `ldr r0, =label`ë¡œ ì „ë‹¬ |
| float â†’ double | `__aeabi_f2d` í˜¸ì¶œ í•„ìš” (ì†Œí”„íŠ¸ FPU ì„¤ì • ì‹œ) |
| ë©”ëª¨ë¦¬ ì •ë ¬ | `.align`, `.word`, `.byte`ë³„ ì •ë ¬ ì£¼ì†Œ í™•ì¸ í•„ìš” |
| ë¬¸ìì—´ ì¶œë ¥ | `ldr r0, =msgstr`, `bl printf` íë¦„ìœ¼ë¡œ ì²˜ë¦¬ |
| ë³€ìˆ˜ ì ‘ê·¼ | `ldr r3, =int_array` â†’ `[r3, #8]`ë¡œ ì¸ë±ìŠ¤ ì ‘ê·¼ |


